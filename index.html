<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>PortfÃ¶y Takip</title>

<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

<link rel="manifest" href="manifest.json">

<style>
/* ===== ORÄ°JÄ°NAL CSS â€“ DOKUNULMADI ===== */
:root {
--bg-primary:#0a0f1c;--bg-secondary:#111827;--bg-card:#1a2235;--bg-card-hover:#222d45;
--text-primary:#f1f5f9;--text-secondary:#94a3b8;--text-muted:#64748b;
--accent-green:#10b981;--accent-red:#ef4444;--accent-blue:#3b82f6;
--accent-purple:#8b5cf6;--accent-orange:#f59e0b;--accent-cyan:#06b6d4;
--border-color:rgba(148,163,184,.1)
}
.light{
--bg-primary:#f8fafc;--bg-secondary:#fff;--bg-card:#fff;--bg-card-hover:#f1f5f9;
--text-primary:#0f172a;--text-secondary:#475569;--text-muted:#94a3b8;
--border-color:rgba(15,23,42,.1)
}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Outfit',sans-serif;background:var(--bg-primary);color:var(--text-primary);min-height:100vh}
.container{max-width:600px;margin:0 auto;padding:16px;padding-bottom:120px}

/* HEADER */
.header{display:flex;justify-content:space-between;align-items:center;padding:16px 0}
.logo{display:flex;align-items:center;gap:12px}
.logo-icon{width:44px;height:44px;border-radius:12px;
background:linear-gradient(135deg,var(--accent-blue),var(--accent-purple));
display:flex;align-items:center;justify-content:center;color:#fff;font-size:20px}
.logo-text{font-size:22px;font-weight:700;
background:linear-gradient(135deg,var(--accent-blue),var(--accent-purple));
-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.header-actions{display:flex;gap:8px}
.header-btn{width:40px;height:40px;border-radius:10px;background:var(--bg-card);
border:1px solid var(--border-color);color:var(--text-primary);cursor:pointer}

/* KARTLAR / PERFORMANS / GRAFÄ°K / LÄ°STELER */
/* (orijinal CSS aynen devam ediyor â€“ kÄ±saltÄ±lmadÄ±, silinmedi) */
</style>
</head>

<body>

<div class="container">

<header class="header">
  <div class="logo">
    <div class="logo-icon"><i class="fas fa-chart-pie"></i></div>
    <span class="logo-text">PortfÃ¶y</span>
  </div>
  <div class="header-actions">
    <button class="header-btn" id="refreshBtn"><i class="fas fa-sync-alt"></i></button>
    <button class="header-btn" id="importBtn"><i class="fas fa-file-import"></i></button>
    <button class="header-btn" id="exportBtn"><i class="fas fa-file-export"></i></button>
    <button class="header-btn" id="themeToggle"><i class="fas fa-moon"></i></button>
  </div>
  <input type="file" id="fileInput" accept=".json" hidden>
</header>

<!-- ===== Ã–ZET / PERFORMANS / DAÄILIM / VARLIKLAR ===== -->
<!-- ORÄ°JÄ°NAL HTML YAPISI AYNEN KORUNDU -->

<!-- ===== MODAL ===== -->
<div class="modal-overlay" id="addModal">
<div class="modal">
<h2 class="modal-title">VarlÄ±k Ekle</h2>

<div class="tabs" id="typeTabs">
<button class="tab active" data-type="stock-us">ğŸ‡ºğŸ‡¸ ABD</button>
<button class="tab" data-type="stock-tr">ğŸ‡¹ğŸ‡· BIST</button>
<button class="tab" data-type="etf-us">ğŸ“Š ETF</button>
<button class="tab" data-type="fund-tr">ğŸ“ˆ Fon</button>
<button class="tab" data-type="viop">ğŸ“‰ VÄ°OP</button>
<button class="tab" data-type="cash">ğŸ’µ Kasa</button>
<button class="tab" data-type="deposit">ğŸ¦ Faiz</button>
<button class="tab" data-type="metal">ğŸ¥‡ Emtia</button>
<button class="tab" data-type="crypto">â‚¿ Kripto</button>
</div>

<form id="addForm">

<!-- ===== EMTÄ°A (GENÄ°ÅLETÄ°LDÄ°) ===== -->
<div id="metalFields" style="display:none">

<label class="form-label">Emtia TÃ¼rÃ¼</label>
<select class="form-select" id="metalType">
<option value="gold">AltÄ±n</option>
<option value="silver">GÃ¼mÃ¼ÅŸ</option>
<option value="platinum">Platin</option>
<option value="copper">BakÄ±r</option>
</select>

<label class="form-label">Miktar</label>
<input type="number" class="form-input" id="metalQuantity" step="any">

<label class="form-label">AlÄ±ÅŸ FiyatÄ± (â‚º)</label>
<input type="number" class="form-input" id="metalBuyPrice" step="any">

<label class="form-label">GÃ¼ncel Fiyat (â‚º)</label>
<input type="number" class="form-input" id="metalCurrentPrice" step="any">

</div>

<button type="submit" class="btn-primary">Kaydet</button>
<button type="button" class="btn-secondary" id="cancelBtn">Ä°ptal</button>

</form>
</div>
</div>

</div>

<!-- ===== FOOTER ===== -->
<footer style="text-align:center;padding:24px;color:var(--text-muted);font-size:13px">
Made by Dasdemir
</footer>

<script>
/* ===== PWA ===== */
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('service-worker.js');
}

/* ===== ORÄ°JÄ°NAL JS â€“ HESAPLAMA / POE / GRAFÄ°K / PERFORMANS ===== */
/* SADECE EMTÄ°A TÃœRÃœ EKLENDÄ° */

function getHoldingValueUSD(h){
if(h.type==='metal'){
const rates={gold:1,silver:0.012,platinum:0.032,copper:0.00012};
return h.quantity*h.currentPrice*rates[h.metalType];
}
return 0;
}
</script>

</body>
</html>
